{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\src\\views\\scoremanagement\\DetailMark.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\src\\views\\scoremanagement\\DetailMark.vue","mtime":1713602207221},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\babel.config.js","mtime":1711182475899},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711182482575},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\OnlineLearn\\src\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdXBkYXRlRXhlcmNpc2VTY29yZSB9IGZyb20gJy4uLy4uL2FwaS90ZWFjaGVyL3Rlc3QuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbE1hcmsiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVjazogZmFsc2UsCiAgICAgIHVzZXJEb0V4ZXJjaXNlOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIHNjb3JlOiBudWxsCiAgICAgIH0sCiAgICAgIHVwZGF0ZVVzZXJEb0V4ZXJjaXNlOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIHNjb3JlOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVTY29yZTogZnVuY3Rpb24gdXBkYXRlU2NvcmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDor4TliIYKICAgICAgdmFyIHBhdHRlcm4gPSAvXlxkKyQvOwoKICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QodGhpcy51cGRhdGVVc2VyRG9FeGVyY2lzZS5zY29yZSkgfHwgdGhpcy51cGRhdGVVc2VyRG9FeGVyY2lzZS5zY29yZS50cmltKCkgPT0gIiIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhpnmraPnoa7liIbmlbDvvIEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHVwZGF0ZUV4ZXJjaXNlU2NvcmUodGhpcy51c2VyRG9FeGVyY2lzZS5pZCwgdGhpcy51cGRhdGVVc2VyRG9FeGVyY2lzZS5zY29yZSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzLnVzZXJEb0V4ZXJjaXNlLnNjb3JlID0gX3RoaXMudXBkYXRlVXNlckRvRXhlcmNpc2Uuc2NvcmU7CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5o+Q5Lqk5oiQ5YqfJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCflj5HluIPlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXNlckRvRXhlcmNpc2Uuc2NvcmUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlckRvRXhlcmNpc2VTY29yZTsKICAgIHRoaXMudXNlckRvRXhlcmNpc2UuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlckRvRXhlcmNpc2VJZDsKICAgIHRoaXMudXBkYXRlVXNlckRvRXhlcmNpc2Uuc2NvcmUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlckRvRXhlcmNpc2VTY29yZTsKICAgIHRoaXMudXBkYXRlVXNlckRvRXhlcmNpc2UuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlckRvRXhlcmNpc2VJZDsKICB9Cn07"},{"version":3,"sources":["DetailMark.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,mBAAA,QAAA,2BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAFA;AAMA,MAAA,oBAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA;AAFA;AANA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA;AACA,UAAA,OAAA,GAAA,OAAA;;AACA,UAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,oBAAA,CAAA,KAAA,CAAA,IAAA,KAAA,oBAAA,CAAA,KAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA;;AACA,MAAA,mBAAA,CAAA,KAAA,cAAA,CAAA,EAAA,EAAA,KAAA,oBAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,cAAA,CAAA,KAAA,GAAA,KAAA,CAAA,oBAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA;AACA;AACA,OAPA;AAQA;AAhBA,GAfA;AAiCA,EAAA,OAjCA,qBAiCA;AACA,SAAA,cAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,mBAAA;AACA,SAAA,cAAA,CAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,gBAAA;AACA,SAAA,oBAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,mBAAA;AACA,SAAA,oBAAA,CAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,gBAAA;AACA;AAtCA,CAAA","sourcesContent":["<template>\r\n    <div style=\"padding: 20px 20px 200px 20px;\">\r\n        <router-link to=\"/scoreManagment\">\r\n            <el-button type=\"success\"> 返回</el-button>\r\n        </router-link>\r\n        <hr>\r\n        <div style=\"\">\r\n            <mavon-editor :subfield=\"false\" :autofocus=\"false\" v-model=$route.params.data1 ref=\"md\"\r\n                style=\"width: 99%;height: 90vh;\">\r\n            </mavon-editor>\r\n        </div>\r\n\r\n        <div class=\"last\" v-if=\"userDoExercise.id != null\" style=\"margin-top: 35px\">\r\n            评分\r\n            <el-tooltip class=\"item\" effect=\"dark\" :content=\"userDoExercise.score != null ? '该测验已批改！' : '输入分数评分'\"\r\n                placement=\"top-start\">\r\n                <el-input :disabled=\"userDoExercise.score != null\" placeholder=\"请输入内容\" v-model=\"updateUserDoExercise.score\">\r\n\r\n                </el-input>\r\n            </el-tooltip>\r\n        </div>\r\n        <div style=\"float: right;margin-right: 3%;margin-top: 10px;padding-bottom: 30px;\" v-if=\"userDoExercise.id != null\">\r\n            <el-tooltip class=\"item\" effect=\"dark\" :content=\"userDoExercise.score != null ? '该测验已批改！' : '提交'\"\r\n                placement=\"top-start\">\r\n                <el-button :disabled=\"userDoExercise.score != null\" type=\"success\" @click=\"updateScore()\">\r\n                    提交</el-button>\r\n            </el-tooltip>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport { updateExerciseScore } from '../../api/teacher/test.js'\r\nexport default {\r\n    name: \"DetailMark\",\r\n    data() {\r\n        return {\r\n            check: false,\r\n            userDoExercise: {\r\n                id: \"\",\r\n                score: null\r\n            },\r\n            updateUserDoExercise: {\r\n                id: \"\",\r\n                score: null\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        updateScore() {\r\n            // 评分\r\n            var pattern = /^\\d+$/;\r\n            if(!pattern.test(this.updateUserDoExercise.score) || this.updateUserDoExercise.score.trim() == \"\") {\r\n                this.$message.error('请填写正确分数！');\r\n                return\r\n            }\r\n            updateExerciseScore( this.userDoExercise.id, this.updateUserDoExercise.score).then(resp => {\r\n                if (resp.data.code == 200) {\r\n                    this.userDoExercise.score = this.updateUserDoExercise.score\r\n                    this.$message.success('提交成功');\r\n                } else {\r\n                    this.$message.error('发布失败');\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.userDoExercise.score = this.$route.params.userDoExerciseScore\r\n        this.userDoExercise.id = this.$route.params.userDoExerciseId\r\n        this.updateUserDoExercise.score = this.$route.params.userDoExerciseScore\r\n        this.updateUserDoExercise.id = this.$route.params.userDoExerciseId\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/views/scoremanagement"}]}