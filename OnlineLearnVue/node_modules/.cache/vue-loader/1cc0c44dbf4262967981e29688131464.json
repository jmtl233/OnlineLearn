{"remainingRequest":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OnlineLearn\\OnlineLearnVue\\src\\views\\scoremanagement\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OnlineLearn\\OnlineLearnVue\\src\\views\\scoremanagement\\Detail.vue","mtime":1746093904964},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711182482575},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBwY2xhc3MgfSBmcm9tICIuLi8uLi9hcGkvYWRtaW4vcXVlcnljbGFzcyI7DQppbXBvcnQgeyBhZGR0LCBzYXZlSG9tZXdvcmsgfSBmcm9tICcuLi8uLi9hcGkvdGVhY2hlci90ZXN0LmpzJw0KaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkRldGFpbCIsDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNoZWNrOiBmYWxzZSwNCiAgICAgICAgICAgIG1vZGU6IDAsDQogICAgICAgICAgICBxdWVyeUNsYTogW10sDQogICAgICAgICAgICBwYXJhbURhdGE6IHsNCiAgICAgICAgICAgICAgICBpZDogJycsDQogICAgICAgICAgICAgICAgY2xhc3NJZDogJycsDQogICAgICAgICAgICAgICAgdGl0bGU6ICcnLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnLA0KICAgICAgICAgICAgICAgIGNvbW1pdFRpbWU6ICcnLA0KICAgICAgICAgICAgICAgIGFuc3dlcjogJycsDQogICAgICAgICAgICAgICAgY3JlYXRvcjogJycsDQogICAgICAgICAgICAgICAgdXNlcklkOiAnJywNCiAgICAgICAgICAgICAgICBzY29yZTogMCwNCiAgICAgICAgICAgICAgICByZW1hcms6ICIiLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MCwNCiAgICAgICAgICAgICAgICBxdWVzdGlvbnM6IFtdDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcGFyYW06IHsNCiAgICAgICAgICAgICAgICB1c2VySWQ6ICcnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRhZzogJycsDQogICAgICAgICAgICBzdHVkZW50dGFnOiAnJywNCiAgICAgICAgICAgIHR5cGU6ICLor5XpopgiLA0KICAgICAgICAgICAgcXVlc3Rpb25UeXBlczogWw0KICAgICAgICAgICAgICAgIHsgdmFsdWU6ICdjaG9pY2UnLCBsYWJlbDogJ+mAieaLqemimCcgfSwNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnYmxhbmsnLCBsYWJlbDogJ+Whq+epuumimCcgfSwNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnZXNzYXknLCBsYWJlbDogJ+mXruetlOmimCcgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KDQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLnBhcmFtRGF0YS5jcmVhdG9yID0gQ29va2llcy5nZXQoInVzZXJJZCIpDQogICAgICAgIHRoaXMucGFyYW0udXNlcklkID0gQ29va2llcy5nZXQoInVzZXJJZCIpDQogICAgICAgIHRoaXMucXVlcnlDbGFzcyh0aGlzLnBhcmFtKQ0KICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlDQogICAgICAgIHRoaXMudGFnID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGExDQogICAgICAgIHRoaXMuY2hlY2sgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY2hlY2sNCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhMikgew0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEudXNlcklkID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLnVzZXJJZA0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTIuaG9tZXdvcmtJZA0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEudGl0bGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTIudGl0bGUNCiAgICAgICAgICAgIHRoaXMucGFyYW1EYXRhLmNvbnRlbnQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTIuY29udGVudA0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEuYW5zd2VyID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLmFuc3dlcg0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEuY29tbWl0VGltZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhMi5jb21taXRUaW1lDQogICAgICAgICAgICB0aGlzLnBhcmFtRGF0YS5jb21taXRUaW1lID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLmNvbXBsZXRpb25UaW1lDQogICAgICAgICAgICB0aGlzLnBhcmFtRGF0YS5jbGFzc0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLmNsYXNzSWQNCiAgICAgICAgICAgIHRoaXMuc3R1ZGVudHRhZyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhNA0KICAgICAgICAgICAgdGhpcy5tb2RlID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLm1vZGUNCiAgICAgICAgICAgIHRoaXMucGFyYW1EYXRhLnJlbWFyayA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhMi5yZW1hcmsNCiAgICAgICAgICAgIHRoaXMucGFyYW1EYXRhLnNjb3JlID0gdGhpcy4kcm91dGUucGFyYW1zLmRhdGEyLnNjb3JlDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIOWmguaenOacieWGheWuue+8jOWIm+W7uuS4gOS4qum7mOiupOmimOebrg0KICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1EYXRhLmNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmluaXRRdWVzdGlvbnNGcm9tQ29udGVudCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyDlpoLmnpzmsqHmnInpopjnm67vvIzmt7vliqDkuIDkuKrpu5jorqTpopjnm64NCiAgICAgICAgaWYgKHRoaXMucGFyYW1EYXRhLnF1ZXN0aW9ucy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgIHRoaXMuYWRkUXVlc3Rpb24oKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBvdXQoKSB7DQogICAgICAgICAgICB0aGlzLnRhZyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhMQ0KICAgICAgICAgICAgaWYgKHRoaXMudGFnID09ICdob21ld29yaycpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhZywgJzg4OCcpDQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jbGFzc21hbmFnZW1lbnQnKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Njb3JlbWFuYWdtZW50JykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDbGFzcyhwYSkgew0KICAgICAgICAgICAgcGNsYXNzKHBhKS50aGVuKHJlc3AgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucXVlcnlDbGEgPSByZXNwLmRhdGEucmVzdWx0RGF0YQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkVGVzdChwYXJhbURhdGEpIHsNCiAgICAgICAgICAgIC8vIOWwhumimOebruWGheWuueWQiOW5tuWIsGNvbnRlbnTlrZfmrrUNCiAgICAgICAgICAgIHRoaXMucHJlcGFyZURhdGFGb3JTdWJtaXQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy50YWcgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTENCiAgICAgICAgICAgIGlmICh0aGlzLnRhZyA9PSAnaG9tZXdvcmsnKSB7DQogICAgICAgICAgICAgICAgc2F2ZUhvbWV3b3JrKHBhcmFtRGF0YSkudGhlbihyZXNwID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9jbGFzc21hbmFnZW1lbnQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPkeW4g+aIkOWKnycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPkeW4g+Wksei0pScpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYWRkdChwYXJhbURhdGEpLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2NvcmVtYW5hZ21lbnQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPkeW4g+aIkOWKnycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPkeW4g+Wksei0pScpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5re75Yqg5paw6aKY55uuDQogICAgICAgIGFkZFF1ZXN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEucXVlc3Rpb25zLnB1c2goew0KICAgICAgICAgICAgICAgIHR5cGU6ICdlc3NheScsDQogICAgICAgICAgICAgICAgY29udGVudDogJycsDQogICAgICAgICAgICAgICAgYW5zd2VyOiAnJywNCiAgICAgICAgICAgICAgICBzY29yZTogMTAsDQogICAgICAgICAgICAgICAgb3B0aW9uczogWycnLCAnJywgJycsICcnXQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIOWIoOmZpOmimOebrg0KICAgICAgICByZW1vdmVRdWVzdGlvbihpbmRleCkgew0KICAgICAgICAgICAgdGhpcy5wYXJhbURhdGEucXVlc3Rpb25zLnNwbGljZShpbmRleCwgMSk7DQogICAgICAgICAgICBpZiAodGhpcy5wYXJhbURhdGEucXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVlc3Rpb24oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5re75Yqg6YCJ6aG5DQogICAgICAgIGFkZE9wdGlvbihxdWVzdGlvbikgew0KICAgICAgICAgICAgaWYgKCFxdWVzdGlvbi5vcHRpb25zKSB7DQogICAgICAgICAgICAgICAgcXVlc3Rpb24ub3B0aW9ucyA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcXVlc3Rpb24ub3B0aW9ucy5wdXNoKCcnKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5LuO546w5pyJ5YaF5a655Yid5aeL5YyW6aKY55uuDQogICAgICAgIGluaXRRdWVzdGlvbnNGcm9tQ29udGVudCgpIHsNCiAgICAgICAgICAgIHRoaXMucGFyYW1EYXRhLnF1ZXN0aW9ucyA9IFt7DQogICAgICAgICAgICAgICAgdHlwZTogJ2Vzc2F5JywNCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLnBhcmFtRGF0YS5jb250ZW50LA0KICAgICAgICAgICAgICAgIGFuc3dlcjogdGhpcy5wYXJhbURhdGEuYW5zd2VyLA0KICAgICAgICAgICAgICAgIHNjb3JlOiAxMDAsDQogICAgICAgICAgICAgICAgb3B0aW9uczogW10NCiAgICAgICAgICAgIH1dOw0KICAgICAgICB9LA0KICAgICAgICAvLyDlh4blpIfmj5DkuqTmlbDmja4NCiAgICAgICAgcHJlcGFyZURhdGFGb3JTdWJtaXQoKSB7DQogICAgICAgICAgICAvLyDlpoLmnpzkvb/nlKjkuobmlrDnmoTpopjnm67moLzlvI/vvIzpnIDopoHlsIbpopjnm67lkIjlubbliLBjb250ZW505ZKMYW5zd2Vy5a2X5q61DQogICAgICAgICAgICBpZiAodGhpcy5wYXJhbURhdGEucXVlc3Rpb25zICYmIHRoaXMucGFyYW1EYXRhLnF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgbGV0IGNvbnRlbnRUZXh0ID0gJyc7DQogICAgICAgICAgICAgICAgbGV0IGFuc3dlclRleHQgPSAnJzsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtRGF0YS5xdWVzdGlvbnMuZm9yRWFjaCgocSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFRleHQgKz0gYCMjIOmimOebriAke2luZGV4ICsgMX3vvJoke3EudHlwZSA9PT0gJ2Nob2ljZScgPyAnKOmAieaLqemimCknIDogcS50eXBlID09PSAnYmxhbmsnID8gJyjloavnqbrpopgpJyA6ICco6Zeu562U6aKYKSd9XG5cbmA7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUZXh0ICs9IHEuY29udGVudCArICdcblxuJzsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIChxLnR5cGUgPT09ICdjaG9pY2UnICYmIHEub3B0aW9ucykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcS5vcHRpb25zLmZvckVhY2goKG9wdCwgaSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUZXh0ICs9IGAke1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKX0uICR7b3B0fVxuYDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXJUZXh0ICs9IGAjIyDpopjnm64gJHtpbmRleCArIDF9IOetlOahiO+8mlxuXG5gOw0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXJUZXh0ICs9IHEuYW5zd2VyICsgJ1xuXG4nOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRoaXMucGFyYW1EYXRhLmNvbnRlbnQgPSBjb250ZW50VGV4dDsNCiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtRGF0YS5hbnN3ZXIgPSBhbnN3ZXJUZXh0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/scoremanagement","sourcesContent":["<template>\r\n    <div style=\"overflow-y: auto; padding: 20px;\">\r\n        <el-form ref=\"form\" :model=\"paramData\" label-width=\"100px\">\r\n            <!-- 试卷基本信息 -->\r\n            <div class=\"base-info\">\r\n                <el-form-item label=\"所属班级\" prop=\"classId\" required>\r\n                    <el-select\r\n                        v-model=\"paramData.classId\"\r\n                        filterable\r\n                        placeholder=\"请选择班级\"\r\n                        style=\"width: 300px\">\r\n                        <el-option\r\n                            v-for=\"item in queryCla\"\r\n                            :key=\"item.classId\"\r\n                            :label=\"item.className\"\r\n                            :value=\"item.classId\"/>\r\n                    </el-select>\r\n                </el-form-item>\r\n\r\n                <el-form-item :label=\"`${type}标题`\" prop=\"title\" required>\r\n                    <el-input\r\n                        v-model=\"paramData.title\"\r\n                        :placeholder=\"`请输入${type}标题`\"\r\n                        style=\"width: 400px\"\r\n                        clearable/>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"考试时间\" prop=\"examTime\" required>\r\n                    <el-date-picker\r\n                        v-model=\"paramData.commitTime\"\r\n                        type=\"datetime\"\r\n                        value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                        placeholder=\"选择考试时间\"\r\n                        style=\"width: 300px\"/>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"考试时长\" prop=\"duration\" required>\r\n                    <el-input-number\r\n                        v-model=\"paramData.duration\"\r\n                        :min=\"30\"\r\n                        :max=\"300\"\r\n                        controls-position=\"right\"\r\n                        style=\"width: 150px\"/>\r\n                    <span style=\"margin-left: 10px; color: #666\">分钟</span>\r\n                </el-form-item>\r\n            </div>\r\n\r\n            <!-- 试题编辑区域 -->\r\n            <div class=\"question-list\">\r\n                <div v-for=\"(question, index) in paramData.questions\" :key=\"index\" class=\"question-item\">\r\n                    <el-card shadow=\"hover\">\r\n                        <div class=\"question-header\">\r\n                            <span class=\"question-type\">题目 {{ index + 1 }}</span>\r\n                            <el-select\r\n                                v-model=\"question.type\"\r\n                                placeholder=\"题型\"\r\n                                style=\"width: 150px; margin: 0 20px\">\r\n                                <el-option\r\n                                    v-for=\"t in questionTypes\"\r\n                                    :key=\"t.value\"\r\n                                    :label=\"t.label\"\r\n                                    :value=\"t.value\"/>\r\n                            </el-select>\r\n\r\n                            <el-input-number\r\n                                v-model=\"question.score\"\r\n                                :min=\"1\"\r\n                                :max=\"50\"\r\n                                controls-position=\"right\"\r\n                                placeholder=\"分值\"\r\n                                style=\"width: 120px\"/>\r\n\r\n                            <el-button\r\n                                class=\"delete-btn\"\r\n                                type=\"danger\"\r\n                                icon=\"el-icon-delete\"\r\n                                circle\r\n                                @click=\"removeQuestion(index)\"/>\r\n                        </div>\r\n\r\n                        <el-form-item label=\"题目内容\" required>\r\n                            <mavon-editor\r\n                                v-model=\"question.content\"\r\n                                :subfield=\"false\"\r\n                                :autofocus=\"false\"\r\n                                style=\"margin: 10px 0;\"\r\n                                placeholder=\"请输入题目内容...\"/>\r\n                        </el-form-item>\r\n\r\n                        <el-form-item label=\"参考答案\" required>\r\n                            <template v-if=\"question.type === 'choice'\">\r\n                                <div v-for=\"(opt, oIndex) in question.options\" :key=\"oIndex\" class=\"option-item\">\r\n                                    <el-radio v-model=\"question.answer\" :label=\"String.fromCharCode(65 + oIndex)\">\r\n                                        {{ String.fromCharCode(65 + oIndex) }}.\r\n                                    </el-radio>\r\n                                    <el-input\r\n                                        v-model=\"question.options[oIndex]\"\r\n                                        style=\"width: 300px; margin-left: 10px\"/>\r\n                                </div>\r\n                                <el-button\r\n                                    type=\"primary\"\r\n                                    size=\"mini\"\r\n                                    @click=\"addOption(question)\">\r\n                                    添加选项\r\n                                </el-button>\r\n                            </template>\r\n\r\n                            <template v-else-if=\"question.type === 'blank'\">\r\n                                <el-input\r\n                                    v-model=\"question.answer\"\r\n                                    placeholder=\"请输入填空答案\"\r\n                                    style=\"width: 400px\"/>\r\n                            </template>\r\n\r\n                            <template v-else>\r\n                                <mavon-editor\r\n                                    v-model=\"question.answer\"\r\n                                    :subfield=\"false\"\r\n                                    :autofocus=\"false\"\r\n                                    style=\"margin: 10px 0;\"\r\n                                    placeholder=\"请输入参考答案...\"/>\r\n                            </template>\r\n                        </el-form-item>\r\n                    </el-card>\r\n                </div>\r\n\r\n                <div class=\"add-question\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addQuestion\">添加题目</el-button>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- 评分区域 -->\r\n            <div class=\"scoring-area\" v-if=\"check\">\r\n                <el-form-item label=\"评分\">\r\n                    <el-tooltip class=\"item\" effect=\"dark\" :content=\"mode == '已批改' ? '该作业已批改！' : '输入分数评分'\" placement=\"top-start\">\r\n                        <el-input \r\n                            :disabled=\"mode == '已批改'\" \r\n                            placeholder=\"请输入分数\" \r\n                            v-model=\"paramData.score\"\r\n                            style=\"width: 200px\">\r\n                        </el-input>\r\n                    </el-tooltip>\r\n                </el-form-item>\r\n                \r\n                <el-form-item label=\"备注\">\r\n                    <el-input \r\n                        :disabled=\"mode == '已批改'\" \r\n                        type=\"textarea\" \r\n                        :rows=\"3\" \r\n                        placeholder=\"请输入备注\"\r\n                        v-model=\"paramData.remark\"\r\n                        style=\"width: 100%\">\r\n                    </el-input>\r\n                </el-form-item>\r\n            </div>\r\n\r\n            <!-- 操作按钮 -->\r\n            <div class=\"form-actions\">\r\n                <el-button type=\"danger\" @click=\"out()\">返回</el-button>\r\n                <el-tooltip class=\"item\" effect=\"dark\" :content=\"mode == '已批改' ? '该作业已批改！' : '提交'\" placement=\"top-start\">\r\n                    <el-button :disabled=\"mode == '已批改'\" type=\"success\" @click=\"addTest(paramData)\">提交</el-button>\r\n                </el-tooltip>\r\n            </div>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { pclass } from \"../../api/admin/queryclass\";\r\nimport { addt, saveHomework } from '../../api/teacher/test.js'\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default {\r\n    name: \"Detail\",\r\n    data() {\r\n        return {\r\n            check: false,\r\n            mode: 0,\r\n            queryCla: [],\r\n            paramData: {\r\n                id: '',\r\n                classId: '',\r\n                title: '',\r\n                content: '',\r\n                commitTime: '',\r\n                answer: '',\r\n                creator: '',\r\n                userId: '',\r\n                score: 0,\r\n                remark: \"\",\r\n                duration: 60,\r\n                questions: []\r\n            },\r\n            param: {\r\n                userId: '',\r\n            },\r\n            tag: '',\r\n            studenttag: '',\r\n            type: \"试题\",\r\n            questionTypes: [\r\n                { value: 'choice', label: '选择题' },\r\n                { value: 'blank', label: '填空题' },\r\n                { value: 'essay', label: '问答题' }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n\r\n    },\r\n    created() {\r\n        this.paramData.creator = Cookies.get(\"userId\")\r\n        this.param.userId = Cookies.get(\"userId\")\r\n        this.queryClass(this.param)\r\n        this.type = this.$route.query.type\r\n        this.tag = this.$route.params.data1\r\n        this.check = this.$route.params.check\r\n        if (this.$route.params.data2) {\r\n            this.paramData.userId = this.$route.params.data2.userId\r\n            this.paramData.id = this.$route.params.data2.homeworkId\r\n            this.paramData.title = this.$route.params.data2.title\r\n            this.paramData.content = this.$route.params.data2.content\r\n            this.paramData.answer = this.$route.params.data2.answer\r\n            this.paramData.commitTime = this.$route.params.data2.commitTime\r\n            this.paramData.commitTime = this.$route.params.data2.completionTime\r\n            this.paramData.classId = this.$route.params.data2.classId\r\n            this.studenttag = this.$route.params.data4\r\n            this.mode = this.$route.params.data2.mode\r\n            this.paramData.remark = this.$route.params.data2.remark\r\n            this.paramData.score = this.$route.params.data2.score\r\n            \r\n            // 如果有内容，创建一个默认题目\r\n            if (this.paramData.content) {\r\n                this.initQuestionsFromContent();\r\n            }\r\n        }\r\n        \r\n        // 如果没有题目，添加一个默认题目\r\n        if (this.paramData.questions.length === 0) {\r\n            this.addQuestion();\r\n        }\r\n    },\r\n    methods: {\r\n        out() {\r\n            this.tag = this.$route.params.data1\r\n            if (this.tag == 'homework') {\r\n                console.log(this.tag, '888')\r\n                this.$router.push('/classmanagement')\r\n            } else {\r\n                this.$router.push('/scoremanagment')\r\n            }\r\n        },\r\n        queryClass(pa) {\r\n            pclass(pa).then(resp => {\r\n                this.queryCla = resp.data.resultData\r\n            })\r\n        },\r\n        addTest(paramData) {\r\n            // 将题目内容合并到content字段\r\n            this.prepareDataForSubmit();\r\n            \r\n            this.tag = this.$route.params.data1\r\n            if (this.tag == 'homework') {\r\n                saveHomework(paramData).then(resp => {\r\n                    if (resp.data.code == 200) {\r\n                        this.$router.push(\"/classmanagement\")\r\n                        this.$message({\r\n                            message: '发布成功',\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        this.$message.error('发布失败');\r\n                    }\r\n                })\r\n            } else {\r\n                addt(paramData).then(resp => {\r\n                    if (resp.data.code == 200) {\r\n                        this.$router.push(\"/scoremanagment\")\r\n                        this.$message({\r\n                            message: '发布成功',\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        this.$message.error('发布失败');\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        // 添加新题目\r\n        addQuestion() {\r\n            this.paramData.questions.push({\r\n                type: 'essay',\r\n                content: '',\r\n                answer: '',\r\n                score: 10,\r\n                options: ['', '', '', '']\r\n            });\r\n        },\r\n        // 删除题目\r\n        removeQuestion(index) {\r\n            this.paramData.questions.splice(index, 1);\r\n            if (this.paramData.questions.length === 0) {\r\n                this.addQuestion();\r\n            }\r\n        },\r\n        // 添加选项\r\n        addOption(question) {\r\n            if (!question.options) {\r\n                question.options = [];\r\n            }\r\n            question.options.push('');\r\n        },\r\n        // 从现有内容初始化题目\r\n        initQuestionsFromContent() {\r\n            this.paramData.questions = [{\r\n                type: 'essay',\r\n                content: this.paramData.content,\r\n                answer: this.paramData.answer,\r\n                score: 100,\r\n                options: []\r\n            }];\r\n        },\r\n        // 准备提交数据\r\n        prepareDataForSubmit() {\r\n            // 如果使用了新的题目格式，需要将题目合并到content和answer字段\r\n            if (this.paramData.questions && this.paramData.questions.length > 0) {\r\n                let contentText = '';\r\n                let answerText = '';\r\n                \r\n                this.paramData.questions.forEach((q, index) => {\r\n                    contentText += `## 题目 ${index + 1}：${q.type === 'choice' ? '(选择题)' : q.type === 'blank' ? '(填空题)' : '(问答题)'}\\n\\n`;\r\n                    contentText += q.content + '\\n\\n';\r\n                    \r\n                    if (q.type === 'choice' && q.options) {\r\n                        q.options.forEach((opt, i) => {\r\n                            contentText += `${String.fromCharCode(65 + i)}. ${opt}\\n`;\r\n                        });\r\n                    }\r\n                    \r\n                    answerText += `## 题目 ${index + 1} 答案：\\n\\n`;\r\n                    answerText += q.answer + '\\n\\n';\r\n                });\r\n                \r\n                this.paramData.content = contentText;\r\n                this.paramData.answer = answerText;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-input__inner {\r\n    margin-top: 10px;\r\n}\r\n\r\n.el-textarea__inner {\r\n    margin-top: 10px;\r\n}\r\n\r\n.base-info {\r\n    margin-bottom: 20px;\r\n    padding: 15px;\r\n    background-color: #f9f9f9;\r\n    border-radius: 4px;\r\n}\r\n\r\n.question-list {\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.question-item {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.question-header {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.question-type {\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n    margin-right: 15px;\r\n}\r\n\r\n.option-item {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.add-question {\r\n    text-align: center;\r\n    margin: 20px 0;\r\n}\r\n\r\n.scoring-area {\r\n    margin-top: 20px;\r\n    padding: 15px;\r\n    background-color: #f9f9f9;\r\n    border-radius: 4px;\r\n}\r\n\r\n.form-actions {\r\n    margin-top: 20px;\r\n    text-align: right;\r\n    padding-bottom: 30px;\r\n}\r\n\r\n.delete-btn {\r\n    margin-left: auto;\r\n}\r\n</style>"]}]}