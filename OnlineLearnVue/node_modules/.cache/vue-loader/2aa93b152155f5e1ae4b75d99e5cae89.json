{"remainingRequest":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OnlineLearn\\OnlineLearnVue\\src\\views\\admin\\header\\Header.vue?vue&type=style&index=0&id=710ea805&lang=scss&scoped=true&","dependencies":[{"path":"E:\\OnlineLearn\\OnlineLearnVue\\src\\views\\admin\\header\\Header.vue","mtime":1746764351109},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711182487975},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711182506221},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1711182496599},{"path":"E:\\OnlineLearn\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"E:\\OnlineLearn\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5hZG1pbi1oZWFkZXItY29udGFpbmVyIHsNCiAgICAkcHJpbWFyeS1jb2xvcjogIzJmMzQ0NzsNCiAgICAkZ3JhZGllbnQtc3RhcnQ6ICM0MzRhNWY7DQogICAgJGdyYWRpZW50LWVuZDogIzJkMzI0NjsNCiAgICAkaG92ZXItY29sb3I6IHJnYmEoI2ZmZiwgMC4wOCk7DQoNCiAgICAubWFpbi1uYXYgew0KICAgICAgICBoZWlnaHQ6IDY0cHg7DQogICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICRncmFkaWVudC1zdGFydCAwJSwgJGdyYWRpZW50LWVuZCAxMDAlKSAhaW1wb3J0YW50Ow0KICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7DQogICAgICAgIGJvcmRlci1ib3R0b206IG5vbmUgIWltcG9ydGFudDsNCg0KICAgICAgICAubmF2LWNvbnRlbnQgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICBwYWRkaW5nOiAwIDMycHg7DQoNCiAgICAgICAgICAgIC5icmFuZC1hcmVhIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCiAgICAgICAgICAgICAgICAuaWNvbmZvbnQgew0KICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDMycHg7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNWQ5Y2Y2Ow0KICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLnRpdGxlLWdyb3VwIHsNCiAgICAgICAgICAgICAgICAgICAgLm1haW4tdGl0bGUgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMnB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7DQogICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC5zdWItdGl0bGUgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoI2ZmZiwgMC42KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAxcHg7DQogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAycHg7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC51c2VyLW9wZXJhdGlvbnMgew0KICAgICAgICAgICAgICAgIC51c2VyLWRyb3Bkb3duIHsNCiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCg0KICAgICAgICAgICAgICAgICAgICAudXNlci1wcm9maWxlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7DQogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNHB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgjZmZmLCAwLjA1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zczsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgJjpob3ZlciB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJGhvdmVyLWNvbG9yOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnVzZXItbmFtZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgLnVzZXItYXZhdGFyIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgLnVzZXItaW5mbyB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXNlci1uYW1lIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoI2ZmZiwgMC45KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZWwtaWNvbi1jYXJldC1ib3R0b20gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiYSgjZmZmLCAwLjYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLnNlY3VyaXR5LWRpYWxvZyB7DQogICAgICAgIC5lbC1kaWFsb2dfX2hlYWRlciB7DQogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViZWVmNTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7DQoNCiAgICAgICAgICAgIC5lbC1kaWFsb2dfX3RpdGxlIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzMwMzEzMzsNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC5lbC1mb3JtLWl0ZW0gew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsNCg0KICAgICAgICAgICAgOjp2LWRlZXAgLmVsLWZvcm0taXRlbV9fbGFiZWwgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjNjA2MjY2Ow0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNnB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZWwtaW5wdXQgew0KICAgICAgICAgICAgICAgIC5lbC1pbnB1dF9fcHJlZml4IHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5MDkzOTk7DQogICAgICAgICAgICAgICAgICAgIGxlZnQ6IDEycHg7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaW5wdXQgew0KICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDQwcHg7DQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDJweDsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC5kaWFsb2ctZm9vdGVyIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHggMjBweDsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWJlZWY1Ow0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/views/admin/header","sourcesContent":["<template>\r\n    <div class=\"admin-header-container\">\r\n        <!-- 主导航栏 -->\r\n        <el-menu\r\n            mode=\"horizontal\"\r\n            class=\"main-nav\"\r\n            background-color=\"transparent\"\r\n            text-color=\"#e6e6e6\"\r\n            active-text-color=\"#ffffff\">\r\n            <div class=\"nav-content\">\r\n                <!-- 平台标题 -->\r\n                <div class=\"brand-area\">\r\n                    <i class=\"iconfont icon-edu-platform\"></i>\r\n                    <div class=\"title-group\">\r\n                        <h1 class=\"main-title\">智慧学堂</h1>\r\n                        <span class=\"sub-title\">Admin Console</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- 用户操作区 -->\r\n                <div class=\"user-operations\">\r\n                    <el-dropdown trigger=\"click\" class=\"user-dropdown\">\r\n                        <div class=\"user-profile\">\r\n                            <el-avatar\r\n                                :size=\"36\"\r\n                                :src=\"require('@/assets/admin-avatar.png')\"\r\n                                class=\"user-avatar\"></el-avatar>\r\n                            <div class=\"user-info\">\r\n                                <span class=\"user-name\">管理员</span>\r\n                                <i class=\"el-icon-caret-bottom\"></i>\r\n                            </div>\r\n                        </div>\r\n                        <el-dropdown-menu slot=\"dropdown\" class=\"dropdown-menu\">\r\n                            <el-dropdown-item @click.native=\"change()\">\r\n                                <i class=\"el-icon-lock\"></i>修改密码\r\n                            </el-dropdown-item>\r\n                            <el-dropdown-item divided @click.native=\"logout()\">\r\n                                <i class=\"el-icon-switch-button\"></i>退出系统\r\n                            </el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                    </el-dropdown>\r\n                </div>\r\n            </div>\r\n        </el-menu>\r\n\r\n        <!-- 修改密码对话框 -->\r\n        <el-dialog\r\n            title=\"安全验证\"\r\n            :visible.sync=\"dialogFormVisible\"\r\n            width=\"450px\"\r\n            :close-on-click-modal=\"false\"\r\n            class=\"security-dialog\">\r\n            <el-form\r\n                :model=\"changePassword\"\r\n                label-position=\"top\"\r\n                @submit.native.prevent>\r\n                <el-form-item label=\"原密码\" required>\r\n                    <el-input\r\n                        v-model=\"changePassword.password\"\r\n                        type=\"password\"\r\n                        placeholder=\"请输入当前使用的密码\"\r\n                        show-password\r\n                        clearable\r\n                        prefix-icon=\"el-icon-key\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"新密码\" required>\r\n                    <el-input\r\n                        v-model=\"changePassword.newPassword\"\r\n                        type=\"password\"\r\n                        placeholder=\"8-16位，包含字母和数字\"\r\n                        show-password\r\n                        clearable\r\n                        prefix-icon=\"el-icon-lock\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认新密码\" required>\r\n                    <el-input\r\n                        v-model=\"changePassword.conPassword\"\r\n                        type=\"password\"\r\n                        placeholder=\"请再次输入新密码\"\r\n                        show-password\r\n                        clearable\r\n                        prefix-icon=\"el-icon-check\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\" size=\"medium\">取消</el-button>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    size=\"medium\"\r\n                    @click=\"submit(changePassword)\"\r\n                    :loading=\"loading\"\r\n                    native-type=\"submit\">\r\n                    确认修改\r\n                </el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from \"js-cookie\";\r\nimport { password } from '../../../api/personal.js'\r\n\r\nexport default {\r\n    name: \"AdminHeader\",\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            dialogFormVisible: false,\r\n            changePassword: {\r\n                password: '',\r\n                conPassword: '',\r\n                newPassword: '',\r\n                id: Cookies.get(\"userId\") || ''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(done) {\r\n            this.$confirm('当前修改尚未保存，确定关闭吗？', '提示', {\r\n                type: 'warning'\r\n            }).then(done).catch(() => {})\r\n        },\r\n        change() {\r\n            this.dialogFormVisible = true\r\n        },\r\n        validatePassword() {\r\n            const regex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,16}$/\r\n            if (!regex.test(this.changePassword.newPassword)) {\r\n                this.$message.error('密码需8-16位且包含字母和数字')\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        async submit(form) {\r\n            if (!form.password) return this.$message.error('请输入原密码')\r\n            if (!form.newPassword) return this.$message.error('请输入新密码')\r\n            if (form.newPassword !== form.conPassword) return this.$message.error('两次输入密码不一致')\r\n            if (!this.validatePassword()) return\r\n\r\n            this.loading = true\r\n            try {\r\n                const { data } = await password(form)\r\n                if (data.code === 200) {\r\n                    this.$message.success('密码修改成功，请重新登录')\r\n                    this.logout()\r\n                } else {\r\n                    this.$message.error(data.message || '修改失败')\r\n                }\r\n            } catch (e) {\r\n                console.error(e)\r\n                this.$message.error('请求失败，请检查网络')\r\n            } finally {\r\n                this.loading = false\r\n                this.dialogFormVisible = false\r\n            }\r\n        },\r\n        logout() {\r\n            ['userId', 'classId', 'roleId'].forEach(key => Cookies.remove(key))\r\n            this.$router.replace('/login')\r\n            this.$notify.success({\r\n                title: '已安全退出',\r\n                message: '您已成功退出系统',\r\n                duration: 2000\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.admin-header-container {\r\n    $primary-color: #2f3447;\r\n    $gradient-start: #434a5f;\r\n    $gradient-end: #2d3246;\r\n    $hover-color: rgba(#fff, 0.08);\r\n\r\n    .main-nav {\r\n        height: 64px;\r\n        background: linear-gradient(145deg, $gradient-start 0%, $gradient-end 100%) !important;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\r\n        border-bottom: none !important;\r\n\r\n        .nav-content {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            height: 100%;\r\n            padding: 0 32px;\r\n\r\n            .brand-area {\r\n                display: flex;\r\n                align-items: center;\r\n\r\n                .iconfont {\r\n                    font-size: 32px;\r\n                    color: #5d9cf6;\r\n                    margin-right: 16px;\r\n                }\r\n\r\n                .title-group {\r\n                    .main-title {\r\n                        font-size: 22px;\r\n                        color: #ffffff;\r\n                        font-weight: 600;\r\n                        letter-spacing: 1px;\r\n                        margin: 0;\r\n                    }\r\n\r\n                    .sub-title {\r\n                        font-size: 12px;\r\n                        color: rgba(#fff, 0.6);\r\n                        letter-spacing: 1px;\r\n                        margin-top: 2px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .user-operations {\r\n                .user-dropdown {\r\n                    transition: all 0.3s ease;\r\n\r\n                    .user-profile {\r\n                        display: flex;\r\n                        align-items: center;\r\n                        padding: 8px 12px;\r\n                        border-radius: 24px;\r\n                        background: rgba(#fff, 0.05);\r\n                        cursor: pointer;\r\n                        transition: background 0.3s;\r\n\r\n                        &:hover {\r\n                            background: $hover-color;\r\n\r\n                            .user-name {\r\n                                color: #fff;\r\n                            }\r\n                        }\r\n\r\n                        .user-avatar {\r\n                            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\r\n                        }\r\n\r\n                        .user-info {\r\n                            margin-left: 12px;\r\n\r\n                            .user-name {\r\n                                color: rgba(#fff, 0.9);\r\n                                font-size: 14px;\r\n                                margin-right: 8px;\r\n                            }\r\n\r\n                            .el-icon-caret-bottom {\r\n                                color: rgba(#fff, 0.6);\r\n                                font-size: 12px;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .security-dialog {\r\n        .el-dialog__header {\r\n            border-bottom: 1px solid #ebeef5;\r\n            padding: 20px;\r\n\r\n            .el-dialog__title {\r\n                color: #303133;\r\n                font-weight: 600;\r\n                font-size: 18px;\r\n            }\r\n        }\r\n\r\n        .el-form-item {\r\n            margin-bottom: 24px;\r\n\r\n            ::v-deep .el-form-item__label {\r\n                color: #606266;\r\n                font-size: 13px;\r\n                padding-bottom: 6px;\r\n            }\r\n\r\n            .el-input {\r\n                .el-input__prefix {\r\n                    color: #909399;\r\n                    left: 12px;\r\n                }\r\n\r\n                input {\r\n                    padding-left: 40px;\r\n                    height: 42px;\r\n                    border-radius: 6px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .dialog-footer {\r\n            padding: 16px 20px;\r\n            border-top: 1px solid #ebeef5;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}